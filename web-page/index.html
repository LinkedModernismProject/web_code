<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Linked Modernisms is a web based visualization and analysis portal for The Routledge Encyclopedia of Modernism.">
  <meta name="author" content="barthur">

  <title>Linked Modernisms</title>

  <!-- Bootstrap Core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">

  <!-- Custom Fonts -->
  <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css" type="text/css">

  <!-- Plugin CSS -->
  <link rel="stylesheet" href="css/animate.min.css" type="text/css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/creative.css" type="text/css">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="img/LiMofavi.png">
  <link rel="shortcut icon" type="image/x-icon" href="img/LiMofavi.ico">

  <script src="js/auto.js"></script>


  <!-- For some visualizations  -->
  <script src="js/d3.min.js"></script>
  <script src="js/highlight.min.js"></script>

  <!-- jQuery -->
  <script src="js/jquery.js"></script>
  <script src="js/jquery.cookie.js"></script>

  <!-- Plugin JavaScript -->
  <script src="js/jquery.easing.min.js"></script>
  <script src="js/jquery.fittext.js"></script>
  <script src="js/wow.min.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="js/bootstrap.min.js"></script>

  <!-- Custom Theme JavaScript -->
  <script src="js/creative.js"></script>

  <!-- Visualization Javascript -->
  <script src="js/d3sparql.js"></script>
  <script src="js/convertJSONtoFlare.js"></script>
  <script src="js/sankey.js"></script>
  <script src="js/jquery.qtip.min.js"></script>

  <!--For ScreenShot Button-->
  <script src="js/html2canvas.js"></script>
  <script src="js/html2canvas.svg.js"></script>
  <script src="js/FileSaver.min.js"></script>
  <script src="js/canvas-toBlob.js"></script>
  <script src="js/Blob.js"></script>

  <!-- To use real Values -->
  <script src="js/convertResponse.js"></script>

  <!-- Script for interacting with database and visualizations & General javascript-->
  <script type="text/javascript">
  var prefix = "PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX foaf: <http://xmlns.com/foaf/0.1/> PREFIX skos: <http://www.w3.org/2004/02/skos/core#> PREFIX limo: <http://localhost:8890/limo#> ";
  //call table url process and visualization process for selected visualization

  //Close notif_panel on click
  function close_notif() {
    console.log('in close_notif');
    jQuery('#notification').remove();
  }

  //Display a notification panel in any case specified by the title & msg
  function notif_panel(title, msg) {
    console.log('in notif_panel!!!');
    jQuery(document.body).append(' \
    <div class="topcorner hide_panel" id="notification" onClick="close_notif()"> \
    <div class="panel panel-primary"> \
    <div class="panel-heading"> \
    <h3 class="panel-title">'+title+'</h3> \
    </div> \
    <div class="panel-body">'+msg+
    '</div> \
    </div> </div>');
    jQuery('#notification').show().fadeOut(10000, function() {
      console.log('notif!!!');
      jQuery('#notification').remove();
    });
  }

  $(function() {
    //$.removeCookie("query") //Empty filter box
    //retrieve cookie and send it off to fill results, visualizations, and previous searches tab
    var cdata = $.cookie("query");
    if(cdata != null || cdata != undefined){
      //Function calls to populate for last search on page load
      $.ajax({
        type: "get",
        url: constructURL(populateResults(cdata)),
        context: document.body,
        dataType: "html",
        cache: false,
        success: function(response){
          response = convertResponse(response); //Remove Link appearances in table
          $("#results").html(response);
          $("table").addClass("table-hover");
        },
        error: function(err) {
          console.log('in the error');
          notif_panel('No Data Received','Current search retrieved no data, please try another search; Or our site may be updating, and you may have to try again later.');
        }
      });
      //fills the last searches box
      populatePrevious(cdata);
    }

    //for main search buttons to change active tabs
    $(".btn-fn").click(function(){
      if(this.id === "reg-search"){
        $("#tabHome").removeClass("active");
        $("#tabSearch").addClass("active");
      } else if(this.id === "diff-search"){
        $("#tabHome").removeClass("active");
        $("#tabDist").addClass("active");
      }
    });

    //This is called from the filters apply to previous search button, and adds filters to prev search
    $(".btn-filters").click(function(){
      if($("queryNum0")===undefined) {  //Safeguard
        var query = "SELECT distinct ?Subject ?Predicate ?Object WHERE {?Subject ?Predicate ?Object . ";
      } else {
        var query = $("body").data("queryData0"); //Gets query from previous search
      }
      $.cookie("currentVis", $("input[name='optradio1']:checked").val());
      var filt = query.split("\.")
      query = filt[0];
      for (var i = 1; i < filt.length-1; i++) { //Up to the last ele
        query += '.'+filt[i];
      };
      query += '. ';

      $("#tabFilter").removeClass("active");
      $("#tabVis").addClass("active");
      var hasGender = $("#selGender").val();
      if(hasGender != "" ){
        if(query.indexOf('?Subject limo:hasGender ') != -1) {
          var qmatch = query.match(/^(.*:hasGender)\s*'[^']+'\s*(.*)$/);
          query = qmatch[1] + " '" + hasGender + "' " + qmatch[2];
        } else {
          query = query + "?Subject limo:hasGender '" + hasGender + "' . ";
        }
      }
      var gender = $("#selSex").val();
      if(gender != "" ){
        if(query.indexOf('?Subject limo:hasSex ') != -1) {
          var qmatch = query.match(/^(.*:hasSex)\s*'[^']+'\s*(.*)$/);
          query = qmatch[1] + " '" + gender + "' " + qmatch[2];
        } else {
          query = query + "?Subject limo:hasSex '" + gender + "' . ";
        }
      }
      var sexuality = $("#selSexuality").val();
      if(sexuality != "" ){
        if(query.indexOf('?Subject limo:hasSexuality ') != -1) {
          var qmatch = query.match(/^(.*:hasSexuality)\s*'[^']+'\s*(.*)$/);
          query = qmatch[1] + " '" + sexuality + "' " + qmatch[2];
        } else {
          query = query + "?Subject limo:hasSexuality '" + sexuality + "' . ";
        }
      }
      var typeOfPerson = $("#selTypeOfPerson").val(); //Occupation
      if(typeOfPerson != "" ){
        if(query.indexOf('?Subject limo:typeOfPerson ') != -1) {
          var qmatch = query.match(/^(.*:typeOfPerson)\s*'[^']+'\s*(.*)$/);
          query = qmatch[1] + " '" + typeOfPerson + "' " + qmatch[2];
        } else {
          query = query + "?Subject limo:typeOfPerson '" + typeOfPerson + "' . ";
        }
        //query = query + "?Subject limo:typeOfPerson" + " '" + typeOfPerson + "' . ";
      }
      var originatingCountry = $("#selOriginatingCountry").val();
      if(originatingCountry != "" ){
        if(query.indexOf('?Subject limo:originatingCountry ') != -1) {
          var qmatch = query.match(/^(.*:originatingCountry)\s*'[^']+'\s*(.*)$/);
          query = qmatch[1] + " '" + originatingCountry + "' " + qmatch[2];
        } else {
          query = query + "?Subject limo:originatingCountry '" + originatingCountry + "' . ";
        }
      }
      var birthYear = $("#selBirthYear").val(); //Will need work for using real data
      if(birthYear != "" ){
        if(query.indexOf('?Subject limo:hasBirthdate ') != -1) {
          var qmatch = query.match(/^(.*:hasBirthdate)\s*'[^']+'\s*(.*)$/);
          query = qmatch[1] + " '" + birthYear.trim().replace(/ /g," ") + "' " + qmatch[2];
        } else {
          query = query + "?Subject limo:hasBirthdate '" + birthYear.trim().replace(/ /g,"_") + "' . ";
        }
      }
      var livedIn = $("#selLivedIn").val();
      if(livedIn != "" ){
        if(query.indexOf('?Subject limo:associatedWithCountry ') != -1) {
          var qmatch = query.match(/^(.*:associatedWithCountry)\s*'[^']+'\s*(.*)$/);
          query = qmatch[1] + " '" + livedIn + "' " + qmatch[2];
        } else {
          query = query + "?Subject limo:associatedWithCountry '" + livedIn + "' . ";
        }
      }
      var associatedWith = $("#selAssociationA").val().trim().replace(" ","_");
      if(associatedWith != "" ){
        if(query.indexOf('?Subject limo:associatedWith ') != -1) {
          var qmatch = query.match(/^(.*:associatedWith)\s*'[^']+'\s*(.*)$/);
          query = qmatch[1] + " '" + associatedWith + "' " + qmatch[2];
        } else {
          query = query + "?Subject limo:associatedWith '" + associatedWith + "'@en . ";
        }
      }
      //query = query +  "} ORDER BY ASC(?Subject) LIMIT 50 ";
      query += filt[filt.length-1]
      console.log(query);

      createCookie(query);
      sClick(query);
      exec1(query);
    });

    //Begins a new search with the selected filter elements when the "New Search" button is pressed
    jQuery('#newSearch').click(function(){
      var query = "SELECT distinct ?Subject ?Predicate ?Object WHERE {?Subject ?Predicate ?Object . ";
      $.cookie("currentVis", $("input[name='optradio1']:checked").val());
      /*These 4 lines are used to take active state off of tab after search button
      is clicked. Same with the section s it was glitchy and needed this to fix*/
      $("#tabFilter").removeClass("active");
      $("#tabVis").addClass("active");
      $("#sectionFilter").addClass("s");
      $("#sectionSearch").removeClass("s");

      var hasGender = $("#selGender").val();
      if(hasGender != "" ){
        query = query + "?Subject limo:hasGender" + " '" + hasGender + "' . ";
      }
      var gender = $("#selSex").val();
      if(gender != "" ){
        query = query + "?Subject limo:hasSex" + " '" + gender + "' . ";
      }
      var sexuality = $("#selSexuality").val();
      if(sexuality != "" ){
        query = query + "?Subject limo:hasSexuality" + " '" + sexuality + "' . ";
      }
      var typeOfPerson = $("#selTypeOfPerson").val(); //Occupation
      if(typeOfPerson != "" ){
        query = query + "?Subject limo:typeOfPerson" + " '" + typeOfPerson + "' . ";
      }
      var originatingCountry = $("#selOriginatingCountry").val();
      if(originatingCountry != "" ){
        query = query + "?Subject limo:originatingCountry" + " '" + originatingCountry + "' . ";
      }
      var birthYear = $("#selBirthYear").val(); //Will need work for using real data
      if(birthYear != "" ){
        query = query + "?Subject limo:hasBirthdate" + " '" + birthYear.trim().replace(/ /g,"_") + "' . ";
      }
      var livedIn = $("#selLivedIn").val();
      if(livedIn != "" ){
        query = query + "?Subject limo:associatedWithCountry" + " '" + livedIn + "' . ";
      }
      var associatedWith = $("#selAssociationA").val().trim().replace(" ","_");
      if(associatedWith != "" ){
        query = query + "?Subject limo:associatedWith" + " '" + associatedWith + "'@en . ";
      }
      query = query +  "} ORDER BY ASC(?Subject)";
      console.log(query);
      createCookie(query);
      sClick(query);
      exec1(query);
    });

    //calls ajax function when the search button is pressed
    $(".btn-search").click(function(){
      $.cookie("currentVis", $("input[name='optradio']:checked").val());
      if($("#subj").val() === "" && $("#pred").val() === "" && $("#obj").val() === "" )
      var query = randQuery();
      else
      var query = constructQuery();
      console.log(query);
      $("#tabSearch").removeClass("active");
      $("#tabVis").addClass("active");
      createCookie(query);
      sClick(query);
      exec1(query);
    });

    //Searches by previous query from cookie
    $(".panel").on("click",".btn-prev",function(){
      $.cookie("currentVis", $("input[name='optradio1']:checked").val());
      $("#tabFilter").removeClass("active");
      $("#tabVis").addClass("active");
      var i = this.id;
      var query = $("body").data("queryData" + i);
      console.log(query);
      createCookie(query);
      sClick(query);
      exec1(query);
    });

    $('#visualizations').on('click', '.has-popover', 'this.title', function(event){
      console.log('in popover');
      var innerText = this.innerHTML.replace(/<tspan x="0">/g,' ');
      innerText = innerText.replace(/<tspan dy="1em" x="0">/g,'');
      innerText = innerText.replace(/<\/tspan>/g,' ');
      innerText = innerText.trim();
      innerText = innerText.replace(/ /g,'_');
      var title = innerText + ' <a href="#" class="close" data-dismiss="alert">&times;</a>';
      console.log(innerText);
      $(this).popover({
        html: 'true',
        title: title,
        container: 'body',
        placement: 'top auto',
        content: ('<a target="_blank" href="https://google.ca#q=' + innerText + '"><button>Search on REM</button></a>&nbsp;<a onClick="popoverClick(' + "'" + innerText + "'" + ')"><button>Search this term</button></a>')
      });
    });

    $(document).on('click', '.popover .close', function(){
      $(this).parents(".popover").popover('hide');
    });

    auto.autocorrect();
  });

  function popoverClick(term){
    console.log(term);
    var query = constructQuery(term);
    sClick(query);
    exec1(query);
  }

  //if the S P O fields are all blank then construct a random query to search
  function randQuery(){

  }

  /*
  Searches by:
  FILTER regex is used to specifiy exactly people who are say Chemically Castrated and that's it.
  limo:gender 'Chemically Castrated', say would get people that are CC'd and also all the info about those people
  */
  //Function that takes the S P O and makes the query
  function constructQuery(singleWord){
    var query = ' SELECT distinct * WHERE { ?Subject ?Predicate ?Object .';
    if($('#tabSearch').hasClass('active')){
      if($("#subj").val() != ""){
        var subj_ = $("#subj").val();
        subj_ = subj_.replace(/\s/g, '_');
        query += ' FILTER regex(str(?Subject), "' + subj_/*$("#subj").val()*/ + '", "i") .';
      }
      if($("#pred").val() != ""){
        query += ' ?Subject limo:' + $("#pred").val() + ' ?Object .';
      }
      if($("#obj").val() != ""){
        query += ' FILTER regex(str(?Object), "^' + $("#obj").val() + '$", "i") .';
      }
    }
    if(singleWord != undefined){
      singleWord = singleWord.replace(/\s/g, '_');
      query += ' FILTER regex(str(?Subject), "' + singleWord + '", "i") .';
    }
    query +=  '} ORDER BY ASC(?Subject)';
    console.log(query);
    return query;
  }

  //executed on search button click, this populates the results page
  function sClick(query){
    $.ajax({
      type: "get",
      url: constructURL(query),
      context: document.body,
      dataType: "html",
      cache: false,
      success: function(response){
        console.log('in success');
        response = convertResponse(response); //Remove Link appearances in table
        $("#results").html(response);
        $("tr").addClass("table-hover");
      },
      error: function(err) {
        console.log('in err');
        notif_panel('No data received','Current search retrieved no data, please try another search; Or our site may be updating, and you may have to try again later.');
      }
    });
  }

  //helps populate results table and execute default visualization (Force Directed)
  function populateResults(cdata){
    var ca = cdata.split(';');
    var c = ca[0];
    if (c.indexOf(name) == 0){
      exec1(c.substring(name.length,c.length))
      return c.substring(name.length,c.length);
    }
    return ("");
  }

  //Convert unNaturalQuery string to a Natural Language string
  //For now just making data available to user as Natural Language still needs implementing
  function toNaturalLang(un_nat_query) {
    var s = un_nat_query.split(/\.(.+)?/);
    var nat_lang = '';
    if (un_nat_query !== 'undefined') { //Check for if an undefined search happens, then return with an empty string
      var s_match = s[1].match(/.*FILTER regex\(str\(\?Subject\),\s*"([^"]+)",.+/);
      var p_match = s[1].match(/.*\?Subject.*:([^\s]+)\s*\?Object.*/);
      var o_match = s[1].match(/.*FILTER regex\(str\(\?Object\),\s*"([^"]+)",.+/);
      var filters = s[1].match(/:([^\s]+)\s*'([^']+)'/g);
    } else {
      return '';
    }
    if (s_match != null) { //There is a subj match in [1]
      nat_lang += '<strong>Subject:</strong> ' + s_match[1].replace(/_/g, ' ');
    }
    if (p_match != null) { //There is a pred match in [1]
      if (nat_lang != '') { //If there is a value before the pred (can only be subj at this point)
        nat_lang += '<br>'
      }
      nat_lang += '<strong>Predicate:</strong> ' + p_match[1].replace(/_/g, ' '); //Shouldn't need to replace, but just a Safeguard
    }
    if (o_match != null) { //There is a obj match in [1]
      if(nat_lang != '') {
        nat_lang += '<br>';
      }
      var o = o_match[1].replace(/_/g, ' ');
      nat_lang += '<strong>Object:</strong> ' + o_match[1].replace(/_/g, ' ').replace(/\^/g, '').replace(/\$/g, '');
    }
    if (filters != null) { //There is filters in [1]
      if(nat_lang != '') {
        nat_lang += '<br>';
      }
      for (var i = 0; i < filters.length; i++) {
        if(i==0) {
          nat_lang += '<strong>Filters:</strong> ' + filters[i].slice(1, -1).replace(/\s*'/, ':');
        } else {
          nat_lang += ', ' + filters[i].slice(1, -1).replace(/\s*'/, ':');
        }
      }
    }
    if (s_match==null && p_match==null && o_match==null && filters==null) { //There has been no search
      console.log('No match for prev searches');
    }
    return nat_lang;
  } //End of toNaturalLang

  //populates the previous searches table
  function populatePrevious(cdata){
    var name = "query=";
    var ca = cdata.split(';');
    if($("#memory-box") != ""){
      $("#memory-box").replaceWith('<span id="memory-box" class="memory-box"></span>');
    }
    for(var i = 0; i < ca.length; i++) {
      var c = ca[i];
      var nat_lang = toNaturalLang(c);
      if(i > 3){
        var prev = "<p id= 'queryNum" + i + "'>" + nat_lang + '</p>' + '<input data-toggle="tab" href="#sectionVis"'  + 'id="' + i + '"' + 'value="Search this again" class="btn btn-primary btn-prev"' + '"/><br/>';
        $("body").data("queryData" + i, c);
      } else{
        var prev = "<p id= 'queryNum" + i + "'>" + nat_lang + '</p>' + '<input data-toggle="tab" href="#sectionVis"'  + 'id="' + i + '"' + 'value="Search this again" class="btn btn-primary btn-prev"' + '"/><br/><hr class="light"/>';
        $("body").data("queryData" + i, c);
      }
      $(prev).appendTo("#memory-box");
    }
  }

  //creates a cookie if none exist, appends search to the cookie if one does exist up to 5
  function createCookie(query){
    var currentTime = new Date();
    var expiry = new Date(currentTime.getTime() + 28*24*60*60*1000);
    var cdata = $.cookie("query");
    if(typeof cdata === null || cdata === undefined || cdata === "") {
      $.cookie("query",query, { expires: expiry});
      var cdata = $.cookie("query");
      populatePrevious(cdata);
      return;
    } else {
      var preQuery = cdata.split(';');
      var maxC = 0;
      for(var i = preQuery.length; i > 0 ; i-- && maxC++) {
        var c = preQuery[maxC];
        query = query + ";" + c;
        if(maxC > 2){ //For some reason 2 means 5
          $.cookie("query",query, { expires: expiry});
          var cdata = $.cookie("query");
          populatePrevious(cdata);
          return;
        }
      }
      $.cookie("query",query, { expires: expiry});
      var cdata = $.cookie("query");
      populatePrevious(cdata);
    }
    return;
  }

  // http://localhost:8890/sparql?default-graph-uri=http://localhost:8890/bestData&
  //Change url to the localhost one and remove ? from infront of query and uncomment the encodeURIComponent(prefix) to run on server
  function constructURL(query){
    //Change url to the localhost one and remove ? from infront of query and uncomment the encodeURIComponent(prefix) to run on server
    var url = /*"http://dbpedia.org/sparql";*/ "http://linkedmods.uvic.ca:8890/sparql?default-graph-uri=http://localhost:8890/bestDataProduction&";
    var queryURL = url + "query=" + encodeURIComponent(prefix) + encodeURIComponent(query) + '&timeout=30000&debug=on';
    $.cookie("currentSearch", query);
    return queryURL;
  }

  //d3.select("#endpoint").property("value")
  function exec1(sparql) {
    var endpoint = /*"http://dbpedia.org/sparql";*/ "http://linkedmods.uvic.ca:8890/sparql?default-graph-uri=http://localhost:8890/bestDataProduction&";
    d3sparql.query(endpoint, sparql, render);
  }

  function visTabClick(visID){
    $.cookie("currentVis", visID);
    console.log(visID);
    sClick($.cookie("currentSearch"));
    exec1($.cookie("currentSearch"));
  }

  function reSearchByClick(){

  }

  // set options and call the d3xxxxx function in this library ... set all configs & name them
  function render(json) {
    if($.cookie("currentVis") != null){
      var val = $.cookie("currentVis");
    }
    else{
      var val = 'fd'
    }
    if(val === "fd"){
      var config = {
        "radius": 20,
        "charge": -150,
        "distance": 130,
        "width": window.innerWidth,
        "height": 1000,
        "selector": "#visualizations"
      }
      d3sparql.forcegraph(json, config);
    } else if(val === "sb"){
      var config = {
        "width": window.innerWidth,
        "height": 900,
        "margin": 150,
        "selector": "#visualizations"
      }
      d3sparql.sunburst(json, config);
    } else if(val === "cp"){
      var config = {
        "width": window.innerWidth,
        "height": 800,
        "diameter": 700,
        "selector": "#visualizations"
      }
      d3sparql.circlepack(json, config);
    } else if(val === "wm"){
      var config = {
        "var_lat": "lat",
        "var_lng": "lng",
        "width": window.innerWidth,
        "height": 480,
        "radius": 5,
        "color": "#55C25E",
        "topojson": "data/world.json",
        "selector": "#visualizations"
      }
      //d3sparql.coordmap(json, config);
      d3sparql.barchart(json, config);
    } else if(val === "bp"){  //CHANGE val's to correct one's later
    var config = {
      "width": window.innerWidth,
      "height": 900,
      "margin": 150,
    }
    d3sparql.barchart(json, config);
    d3sparql.piechart(json, config);
    //d3sparql.scatterplot(json, config); commented out until we decide if we are going to implement the Vis
  } else if(val === "sk"){
    var config = {
      "width": window.innerWidth*.95,
      "height": 900,
      "margin": 10,
      "selector": "#visualizations"
    }
    d3sparql.sankey(json, config);
  }
}

//ScreenShot button
/*  //LM_vis_screenshot (2) & (3) are both black
//LM_vis_screenshot (2) & (3) are both black
function ssSave() {
console.log('In ssSave');
html2canvas($("#visualizations"), {
logging: true,
useCORS: true,
onrendered: function(canvas) {
var d2 = canvas.getContext("2d");
var durl = canvas.toDataURL('png');
window.open(durl);
//var png = ReImg.fromSvg(document.getElementById("#visualizations")).toPng();
///////var png = ReImg.fromSvg(document.getElementById(canvas)).toPng();
///////window.open(png);
///////document.write(png);
console.log("gets hereee!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");
//var blob = new Blob(png, {type: "png;charset=utf-8"});
//saveAs(png, "bpngin.png");
//var dataa = canvas.toDataURL("image/jpg")
//return dataURL.replace(/^data:image\/(png|jpp);base64,/, "");
//////console.log(img);
//////window.location.href=img;
},
width: 1250,
height: 1050
});
}


  $(function() {
    console.log('In the screenshotted button');
      $("#save-screen").click(function() {
        console.log('in the btnSave');
          html2canvas($("#visualizations"), {
            onrendered: function(canvas) {
              theCanvas = canvas;
              canvas.toBlob(function(blob) {
              saveAs(blob, "LM_vis_screenshot.png");
              });
            },
            width: 1250,
            height: 1050
          });
      });
      console.log('done!');
  });
  console.log('done!');
});
*/
</script>

</head>

<body id="page-top">
  <nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand page-scroll" href="#page-top" onclick="">Linked Modernisms</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
          <li><a class="page-scroll" href="examples.html">Examples</a></li>
          <li><a class="page-scroll" href="ontology.html">Ontology</a></li>
          <li><a class="page-scroll" href="authorize.html">Contribute</a></li>
          <li><a class="page-scroll" href="#about">About</a></li>
        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
  </nav>

  <hr class="light"></hr><br/>

  <ul class="nav nav-tabs" data-tabs="tabs">
    <li class="active" id="tabHome"><a data-toggle="tab" href="#sectionHome" class="btn" role="button">Home</a></li>
    <li id="tabSearch" ><a data-toggle="tab" href="#sectionSearch" class="btn" role="button">Search</a></li>
    <li id="tabDist" ><a data-toggle="tab" href="#sectionDist" class="btn" role="button">Degrees of Separation</a></li>
    <li id="tabFilter" ><a data-toggle="tab" href="#sectionFilter" class="btn" role="button">Filters</a></li>
    <li id="tabRes" ><a data-toggle="tab" href="#sectionRes" class="btn" role="button">Results</a></li>
    <li id="tabVis" class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" class="btn" role="button">Visualizations<span class="caret"></span></a>
      <ul class="dropdown-menu" id="listOfVis">
        <li><a data-toggle="tab" onclick="visTabClick('fd')" href="#sectionVis">Force Directed</a></li>
        <li><a data-toggle="tab" onclick="visTabClick('sb')" href="#sectionVis">Sunburst</a></li>
        <!--<li><a data-toggle="tab" onclick="visTabClick('cp')" href="#sectionVis">CirclePack</a></li>
        <li><a data-toggle="tab" onclick="visTabClick('wm')" href="#sectionVis">World Map</a></li>
        <li><a data-toggle="tab" onclick="visTabClick('bp')" href="#sectionVis">Graphs</a></li>-->
        <li><a data-toggle="tab" onclick="visTabClick('sk')" href="#sectionVis">Sankey</a></li>
      </ul>
    </li>
  </ul>


  <section>
    <div class="tab-content">
      <div class="tab-pane fade in active" id="sectionHome">
        <div class="header-content">
          <div class="header-content-inner">
            <img src="img/LinkedModernismHELB.svg" alt="Linked Modernisms"></img>

            <hr class="top">
            <noscript>
              Linked Modernism uses a lot of JavaScript, it turns out that Javascript isn't available on this browser or is disabled on this page, please switch to a browser that allows JavaScript or allow JavaScript on this page
            </noscript>

            <p>Linked Modernisms is a web based visualization and analysis portal <br>for <em>The Routledge Encyclopedia of Modernism.</em> </p>

            <p>
              The Search Function allows you to search the metadata for the entire REM. It uses a combination of natural language querying with intuitive auto-completion. Its powerful system of filters lets you zero in on relevant results and adjust the graphs to show only what you're interested in seeing.
              <br/><br/>
              The Degrees of Separation tool allows you to explore all possible relations among two or more terms appearing in the REM. Sophisticated visualization options and filtering let you clarify the results so you see only what you really want to see, without unnecessary clutter.

            </p>
            <a data-toggle="tab" href="#sectionSearch" class="btn btn-fn btn-primary btn-xl" id="reg-search">Search Function</a>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <a data-toggle="tab" href="#sectionDist" class="btn btn-fn btn-primary btn-xl" id="diff-search">Degrees of Separation</a>

          </div>
        </div>
        <br/><br/><br/><br/><br/><br/>
        <section id="about">
          <br/>
          <hr class="light"></hr>
          <br/><br/>
          <h1>About The Project</h1><br/><br/><br/><br/><br/>

          <div class="text80">
            <p>&nbsp;&nbsp;&nbsp;
              Linked Modernisms is a powerful tool for browsing, searching, and visualizing the metadata associated with the content of the Routledge Encyclopedia of Modernism (REM). Through a combination of machine reasoning and human intervention, Linked Modernisms applies a custom information ontology to the content of the REM to generate ever more sophisticated metadata. Users can search specific terms, relationships, characteristics, or combinations as they explore the world of modernism. They can select from several visualization options, save their searches, and use the results to chart new directions in global modernist studies.
            </p>
            <h3>How does it work?</h3><br/>
            <p>&nbsp;Linked Modernisms is dynamic, with each part constantly developing and causing the other parts to develop in turn. Those parts are:
              <br/>
              a)    The Routledge Encyclopedia of Modernism (REM). (For more on the REM, please visit ghostprof.org).
              <br/>
              b)    Casaubon, our customized information ontology. (For more on Casaubon, please visit our Ontology page).
              <br/>
              c)    The machine reasoning algorithm we use to generate and enhance our metadata.
              <br/>
              d)    Our metadata, which is organized into n-triples in a Virtuoso environment.
              <br/><br/>&nbsp;&nbsp;&nbsp;
              Following the dynamic ontology methodology established by the Indiana Philosophy Ontology team https://inpho.cogs.indiana.edu, Linked Modernisms never rests, since all its components are constantly developing. The REM changes regularly as new content is added and existing content is revised. The Casaubon ontology undergoes regular revision to accommodate relationships and categories required by both our data and our users. The algorithm responds to human feedback on its results so that it continues to learn how to provide better results over time as well. Finally, of course, the metadata itself changes with each shift in any or all of the other parts. In fact, all the parts change constantly in response to changes in one another. The result is an environment that – though it will never be perfect – continues to improve with time.
              <br/>&nbsp;&nbsp;&nbsp;
              For its visualizations, Linked Modernisms combines multiple libraries, including d3.js, and d3sparql.js. The Degrees of Separation tool is adapted from the RelFinder, produced by Heim, Lohmann, and Stegemann at Visual Data Web, <a href="http://www.visualdataweb.org/relfinder.php">found here</a>. The environment in which all this magic takes place is provided by Opensource Virtuoso, <a href="http://virtuoso.openlinksw.com/dataspace/doc/dav/wiki/Main">found here</a>.
              <br/>&nbsp;&nbsp;&nbsp;
              We would like to thank the contributors to the REM who provided the initial metadata for Linked Modernisms by filling out an exhaustive questionnaire about the entries they provided. Their answers helped form the set upon which our algorithm was initially trained. After that initial step, Linked Modernisms’ metadata is now produced algorithmically, with the results vetted by domain experts before it is integrated into our database. "
            </p>
            <br/>
          </div>

          <div class="text80">
          <div class="portrait">
            <a href="http://ghostprof.org">
              <img  class="portrait-img" src="img/Portraits/StephenRoss.jpeg" alt="...">
              <h4>Dr. Stephen Ross</h4>
              <p class="info-text">Project Lead, UVic.</p>
            </a>
          </div>
          <div class="portrait">
            <a href"http://www.jefnterysayers.com/">
              <img  class="portrait-img" src="img/Portraits/JenterySayers.jpg" alt="...">
              <h4>Jentery Sayers</h4>
              <p class="info-text">Director of the Maker Lab in the Humanities, UVic.</p>
            </a>
          </div>
          <div class="portrait">
            <a href"https://www.uoguelph.ca/arts/sets-susan-brown">
              <img  class="portrait-img" src="img/Portraits/SusanBrown.jpg" alt="...">
              <h4>Susan Irene Brown</h4>
              <p class="info-text">Research Chair in Digital Humanities, University of Guelph.</p>
            </a>
          </div>
          <div class="portrait">
            <a href="http://www.indiana.edu/~hpscdept/people/allen.shtml">
              <img  class="portrait-img" src="img/Portraits/ColinAllen.jpg" alt="...">
              <h4>Colin Allen</h4>
              <p class="info-text">Professor of History and Philosophy of Science, Indiana University</p>
            </a>
          </div>
          <div class="portrait">
            <a href="http://web.uvic.ca/~siemens/">
              <img  class="portrait-img" src="img/Portraits/RaySiemens.jpg" alt="...">
              <h4>Ray Siemens</h4>
              <p class="info-text">Canada Research Chair in Humanities Computing, UVic.</p>
            </a>
          </div>
          <div class="portrait">
            <a href="http://plato.acadiau.ca/courses/engl/saklofske/">
              <img  class="portrait-img" src="img/Portraits/JonSaklofske.jpg" alt="...">
              <h4>Jon Saklofske</h4>
              <p class="info-text">Department of English, Acadia University.</p>
            </a>
          </div>
          <div class="portrait">
            <a href="http://www.uvic.ca/library/research/librarians/cwalde/index.php">
              <img class="portrait-img" src="img/Portraits/ChristineWalde.jpg" alt="...">
              <h4>Christine Walde</h4>
              <p class="info-text">Grants and Awards Librarian, UVic.</p>
            </a>
          </div>
          <div class="portrait">
            <a href="http://scalar.usc.edu/maker/english-507/users/109">
              <img class="portrait-img" src="img/Portraits/JanaUsiskin.jpg" alt="...">
              <h4>Jana Usiskin</h4>
              <p class="info-text">Graduate Student, UVic.</p>
            </a>
          </div>
          <div class="portrait">
            <a href="http://www.uvic.ca/library/research/librarians/cwalde/index.php">
              <img class="portrait-img" src="img/Portraits/CarolineWinter.jpg" alt="...">
              <h4>Caroline Winter</h4>
              <p class="info-text">PHD Student, UVic.</p>
            </a>
          </div>
          <div class="portrait">
            <a href="https://www.linkedin.com/in/braydenarthur">
              <img class="portrait-img" src="img/Portraits/BraydenArthur.jpg" alt="...">
              <h4>Brayden Arthur</h4>
              <p class="info-text">SEng Student, Uvic.</p>
            </a>
          </div>
          <div class="portrait">
            <a href="https://github.com/dustinchang">
              <img class="portrait-img" src="img/Portraits/DustinChang.jpg" alt="...">
              <h4>Dustin Chang</h4>
              <p class="info-text">CSC Student, Uvic.</p>
            </a>
          </div>
          <div class="portrait">
            <a href="https://rcf.uvic.ca/bmoa">
              <img class="portrait-img" src="img/Portraits/BelaidMoa.png" alt="...">
              <h4>Belaid Moa</h4>
              <p class="info-text">HPC and Research Computing Specialist, Uvic.</p>
            </a>
          </div>
        </div>
        </section>
      </div>
      <div class="tab-pane fade" id="sectionDist">
        <br/><br/><br/>
        <object width="98%" height="1000">
          <param name="movie" value="RelFinder.swf">
          <embed src="RelFinder.swf" width="100%" height="1000">
          </embed>
        </object>
      </div>

      <div class="tab-pane fade s" id="sectionSearch">
        <div class="header-content">
          <div class="header-content-inner">
            <img src="img/LinkedModernismHELB.svg" alt="Linked Modernisms"></img>
            <hr class="top">

            <fieldset>
              <!--<input type="textarea" name="query" id="query" value="SELECT distinct * WHERE {   ?Subject ?Predicate ?Object } LIMIT 20" placeholder="Ex: Argentinian Painters inspired by Da Vinci"></textarea>
              <input type="textarea" name="query" id="query" class="filter-search" value="SELECT distinct * WHERE {   ?Subject ?Predicate ?Object } ORDER BY ASC(?Subject) LIMIT 20" placeholder="Ex: Argentinian Painters inspired by Da Vinci"></textarea>-->
              <input type="textarea" name="subj" id="subj" class="primary-search" placeholder="Subject (leave blank for anything)"></textarea>
              <input type="textarea" name="pred" id="pred" class="primary-search" placeholder="Predicate (leave blank for anything)"></textarea>
              <input type="textarea" name="obj" id="obj" class="primary-search" placeholder="Object (leave blank for anything)"></textarea>
              <div class="clearfix visible-xs-block"><br/></div><br/><br/>
              <input data-toggle="tab" href="#sectionVis" type="submit" id="searcher" value="Search" class="btn btn-primary btn-search btn-xl"/>
            </fieldset>

            <br/>
            <h6>Select a visualization</h6>
            <div class="vis-select">
              <input id="fd" type="radio" checked="checked" name="optradio" value="fd" />
              <label class="vis-s fd" for="fd"></label>
              <input id="sb" type="radio" name="optradio" value="sb" />
              <label class="vis-s sb"for="sb"></label>
              <!--  <input id="cp" type="radio" name="optradio" value="cp" />
              <label class="vis-s cp" for="cp"></label>
              <input id="wm" type="radio" name="optradio" value="wm" />
              <label class="vis-s wm"for="wm"></label>
              <input id="bp" type="radio" name="optradio" value="bp" />
              <label class="vis-s bp" for="bp"></label>-->
              <input id="sk" type="radio" name="optradio" value="sk" />
              <label class="vis-s sk"for="sk"></label>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-pane fade" id="sectionFilter">
        <br/>
        <div class="col-md-8 col-small-8 ">
          <div class="header-content1">
            <div class="col-md-12 col-sm 1">
              <h1>Filter By</h1>
              <br/><br/>
            </div>

            <br/><br/>

            <br/><br/>

            <div class="row" id="generalName">
              <div class="col-sm-11 col-md-offset-1" id="agentName">
                <div class="form-group">
                  <div>
                    <select class="form-control" id="selGender">
                      <option selected value="">Gender</option><!--hasGender-->
                      <option value="man">Man</option>
                      <option value="woman">Woman</option>
                      <option value="Other">Other</option>
                    </select>
                  </div>
                  <br/>
                  <div>
                    <select class="form-control" id="selSex">
                      <option selected value="">Sex</option><!--gender-->
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                      <option value="Chemically Castrated">Chemically Castrated</option>
                      <option value="Other">Other</option>
                    </select>
                  </div>
                  <br/>
                  <div>
                    <select class="form-control" id="selSexuality">
                      <option selected value="">Sexuality</option>
                      <option value="bisexual">Bisexual</option>
                      <option value="heterosexual">Heterosexual</option>
                      <option value="homosexual invert">Homosexual</option>
                      <option value="unknown">Unknown</option>
                      <option value="asexual">Asexual</option><!--Not currently in our data-->
                    </select>
                  </div>
                  <br/>
                  <div>
                    <select class="form-control" id="selTypeOfPerson">
                      <option selected value="">Occupation</option>
                      <option value="actor">Actor</option>
                      <option value="architect">Architect</option>
                      <option value="biographer">Biographer</option>
                      <option value="cartoonist">Cartoonist</option>
                      <option value="choreographer">Choreographer</option>
                      <option value="collector">Collector</option>
                      <option value="composer">Composer</option>
                      <option value="critic">Critic</option>
                      <option value="dancer">Dancer</option>
                      <option value="designer">Designer</option>
                      <option value="diarist">Diarist</option>
                      <option value="director">Director</option>
                      <option value="Editor">Editor</option>
                      <option value="editor">editor</option>
                      <option value="film maker">Film Maker</option>
                      <option value="historian">Historian</option>
                      <option value="illustrator">Illustrator</option>
                      <option value="impresario">Impresario</option>
                      <option value="industrial designer">Industrial Designer</option>
                      <option value="journalist">Journalist</option>
                      <option value="letter writer">Letter Writer</option>
                      <option value="literary artist">Literary Artist</option>
                      <option value="media artist">Media Artist</option>
                      <option value="musician">Musician</option>
                      <option value="novelist">Novelist</option>
                      <option value="painter">Painter</option>
                      <option value="patron">Patron</option>
                      <option value="performer">Performer</option>
                      <option value="performing artist">Performing Artist</option>
                      <option value="philosopher">Philosopher</option>
                      <option value="playwright">Playwright</option>
                      <option value="poet">Poet</option>
                      <option value="political Figure">Political Figure</option>
                      <option value="printmaker">Printmaker</option>
                      <option value="publisher">Publisher</option>
                      <option value="radio performer">Radio Performer</option>
                      <option value="radio writer">Radio Writer</option>
                      <option value="screenwriter">Screenwriter</option>
                      <option value="sculptor">Sculptor</option>
                      <option value="singer">Singer</option>
                      <option value="story writer">Story Writer</option>
                      <option value="television performer">Television Performer</option>
                      <option value="television writer">Television Writer</option>
                      <option value="theorist">Theorist</option>
                      <option value="thinker">Thinker</option>
                      <option value="typographer">Typographer</option>
                      <option value="urban designer">Urban Designer</option>
                      <option value="visual artist">Visual Artist</option>
                      <option value="writer">Writer</option>
                    </select>
                  </div>
                  <br/>
                  <div>
                    <select class="form-control" id="selOriginatingCountry">
                      <option selected value="">PlaceOfOrigin</option>
                      <option value="Afganistan">Afghanistan</option>
                      <option value="Albania">Albania</option>
                      <option value="Algeria">Algeria</option>
                      <option value="American Samoa">American Samoa</option>
                      <option value="Andorra">Andorra</option>
                      <option value="Angola">Angola</option>
                      <option value="Anguilla">Anguilla</option>
                      <option value="Antigua &amp; Barbuda">Antigua &amp; Barbuda</option>
                      <option value="Argentina">Argentina</option>
                      <option value="Armenia">Armenia</option>
                      <option value="Aruba">Aruba</option>
                      <option value="Australia">Australia</option>
                      <option value="Austria">Austria</option>
                      <option value="Azerbaijan">Azerbaijan</option>
                      <option value="Bahamas">Bahamas</option>
                      <option value="Bahrain">Bahrain</option>
                      <option value="Bangladesh">Bangladesh</option>
                      <option value="Barbados">Barbados</option>
                      <option value="Belarus">Belarus</option>
                      <option value="Belgium">Belgium</option>
                      <option value="Belize">Belize</option>
                      <option value="Benin">Benin</option>
                      <option value="Bermuda">Bermuda</option>
                      <option value="Bhutan">Bhutan</option>
                      <option value="Bolivia">Bolivia</option>
                      <option value="Bonaire">Bonaire</option>
                      <option value="Bosnia &amp; Herzegovina">Bosnia &amp; Herzegovina</option>
                      <option value="Botswana">Botswana</option>
                      <option value="Brazil">Brazil</option>
                      <option value="British Indian Ocean Ter">British Indian Ocean Ter</option>
                      <option value="Brunei">Brunei</option>
                      <option value="Bulgaria">Bulgaria</option>
                      <option value="Burkina Faso">Burkina Faso</option>
                      <option value="Burundi">Burundi</option>
                      <option value="Cambodia">Cambodia</option>
                      <option value="Cameroon">Cameroon</option>
                      <option value="Canada">Canada 🇨🇦</option>
                      <option value="Canary Islands">Canary Islands</option>
                      <option value="Cape Verde">Cape Verde</option>
                      <option value="Cayman Islands">Cayman Islands</option>
                      <option value="Central African Republic">Central African Republic</option>
                      <option value="Chad">Chad</option>
                      <option value="Channel Islands">Channel Islands</option>
                      <option value="Chile">Chile</option>
                      <option value="China">China</option>
                      <option value="Christmas Island">Christmas Island</option>
                      <option value="Cocos Island">Cocos Island</option>
                      <option value="Colombia">Colombia</option>
                      <option value="Comoros">Comoros</option>
                      <option value="Congo">Congo</option>
                      <option value="Cook Islands">Cook Islands</option>
                      <option value="Costa Rica">Costa Rica</option>
                      <option value="Cote DIvoire">Cote D'Ivoire</option>
                      <option value="Croatia">Croatia</option>
                      <option value="Cuba">Cuba</option>
                      <option value="Curaco">Curacao</option>
                      <option value="Cyprus">Cyprus</option>
                      <option value="Czech Republic">Czech Republic</option>
                      <option value="Denmark">Denmark</option>
                      <option value="Djibouti">Djibouti</option>
                      <option value="Dominica">Dominica</option>
                      <option value="Dominican Republic">Dominican Republic</option>
                      <option value="East Timor">East Timor</option>
                      <option value="Ecuador">Ecuador</option>
                      <option value="Egypt">Egypt</option>
                      <option value="El Salvador">El Salvador</option>
                      <option value="Equatorial Guinea">Equatorial Guinea</option>
                      <option value="Eritrea">Eritrea</option>
                      <option value="Estonia">Estonia</option>
                      <option value="Ethiopia">Ethiopia</option>
                      <option value="Falkland Islands">Falkland Islands</option>
                      <option value="Faroe Islands">Faroe Islands</option>
                      <option value="Fiji">Fiji</option>
                      <option value="Finland">Finland</option>
                      <option value="France">France</option>
                      <option value="French Guiana">French Guiana</option>
                      <option value="French Polynesia">French Polynesia</option>
                      <option value="French Southern Ter">French Southern Ter</option>
                      <option value="Gabon">Gabon</option>
                      <option value="Gambia">Gambia</option>
                      <option value="Georgia">Georgia</option>
                      <option value="Germany">Germany</option>
                      <option value="Ghana">Ghana</option>
                      <option value="Gibraltar">Gibraltar</option>
                      <option value="Great Britain">Great Britain</option>
                      <option value="Greece">Greece</option>
                      <option value="Greenland">Greenland</option>
                      <option value="Grenada">Grenada</option>
                      <option value="Guadeloupe">Guadeloupe</option>
                      <option value="Guam">Guam</option>
                      <option value="Guatemala">Guatemala</option>
                      <option value="Guinea">Guinea</option>
                      <option value="Guyana">Guyana</option>
                      <option value="Haiti">Haiti</option>
                      <option value="Hawaii">Hawaii</option>
                      <option value="Honduras">Honduras</option>
                      <option value="Hong Kong">Hong Kong</option>
                      <option value="Hungary">Hungary</option>
                      <option value="Iceland">Iceland</option>
                      <option value="India">India</option>
                      <option value="Indonesia">Indonesia</option>
                      <option value="Iran">Iran</option>
                      <option value="Iraq">Iraq</option>
                      <option value="Ireland">Ireland</option>
                      <option value="Isle of Man">Isle of Man</option>
                      <option value="Israel">Israel</option>
                      <option value="Italy">Italy</option>
                      <option value="Jamaica">Jamaica</option>
                      <option value="Japan">Japan</option>
                      <option value="Jordan">Jordan</option>
                      <option value="Kazakhstan">Kazakhstan</option>
                      <option value="Kenya">Kenya</option>
                      <option value="Kiribati">Kiribati</option>
                      <option value="Korea North">Korea North</option>
                      <option value="Korea Sout">Korea South</option>
                      <option value="Kuwait">Kuwait</option>
                      <option value="Kyrgyzstan">Kyrgyzstan</option>
                      <option value="Laos">Laos</option>
                      <option value="Latvia">Latvia</option>
                      <option value="Lebanon">Lebanon</option>
                      <option value="Lesotho">Lesotho</option>
                      <option value="Liberia">Liberia</option>
                      <option value="Libya">Libya</option>
                      <option value="Liechtenstein">Liechtenstein</option>
                      <option value="Lithuania">Lithuania</option>
                      <option value="Luxembourg">Luxembourg</option>
                      <option value="Macau">Macau</option>
                      <option value="Macedonia">Macedonia</option>
                      <option value="Madagascar">Madagascar</option>
                      <option value="Malaysia">Malaysia</option>
                      <option value="Malawi">Malawi</option>
                      <option value="Maldives">Maldives</option>
                      <option value="Mali">Mali</option>
                      <option value="Malta">Malta</option>
                      <option value="Marshall Islands">Marshall Islands</option>
                      <option value="Martinique">Martinique</option>
                      <option value="Mauritania">Mauritania</option>
                      <option value="Mauritius">Mauritius</option>
                      <option value="Mayotte">Mayotte</option>
                      <option value="Mexico">Mexico</option>
                      <option value="Midway Islands">Midway Islands</option>
                      <option value="Moldova">Moldova</option>
                      <option value="Monaco">Monaco</option>
                      <option value="Mongolia">Mongolia</option>
                      <option value="Montserrat">Montserrat</option>
                      <option value="Morocco">Morocco</option>
                      <option value="Mozambique">Mozambique</option>
                      <option value="Myanmar">Myanmar</option>
                      <option value="Nambia">Nambia</option>
                      <option value="Nauru">Nauru</option>
                      <option value="Nepal">Nepal</option>
                      <option value="Netherland Antilles">Netherland Antilles</option>
                      <option value="Netherlands">Netherlands (Holland, Europe)</option>
                      <option value="Nevis">Nevis</option>
                      <option value="New Caledonia">New Caledonia</option>
                      <option value="New Zealand">New Zealand</option>
                      <option value="Nicaragua">Nicaragua</option>
                      <option value="Niger">Niger</option>
                      <option value="Nigeria">Nigeria</option>
                      <option value="Niue">Niue</option>
                      <option value="Norfolk Island">Norfolk Island</option>
                      <option value="Norway">Norway</option>
                      <option value="Oman">Oman</option>
                      <option value="Pakistan">Pakistan</option>
                      <option value="Palau Island">Palau Island</option>
                      <option value="Palestine">Palestine</option>
                      <option value="Panama">Panama</option>
                      <option value="Papua New Guinea">Papua New Guinea</option>
                      <option value="Paraguay">Paraguay</option>
                      <option value="Peru">Peru</option>
                      <option value="Phillipines">Philippines</option>
                      <option value="Pitcairn Island">Pitcairn Island</option>
                      <option value="Poland">Poland</option>
                      <option value="Portugal">Portugal</option>
                      <option value="Puerto Rico">Puerto Rico</option>
                      <option value="Qatar">Qatar</option>
                      <option value="Republic of Montenegro">Republic of Montenegro</option>
                      <option value="Republic of Serbia">Republic of Serbia</option>
                      <option value="Reunion">Reunion</option>
                      <option value="Romania">Romania</option>
                      <option value="Russia">Russia</option>
                      <option value="Rwanda">Rwanda</option>
                      <option value="St Barthelemy">St Barthelemy</option>
                      <option value="St Eustatius">St Eustatius</option>
                      <option value="St Helena">St Helena</option>
                      <option value="St Kitts-Nevis">St Kitts-Nevis</option>
                      <option value="St Lucia">St Lucia</option>
                      <option value="St Maarten">St Maarten</option>
                      <option value="St Pierre &amp; Miquelon">St Pierre &amp; Miquelon</option>
                      <option value="St Vincent &amp; Grenadines">St Vincent &amp; Grenadines</option>
                      <option value="Saipan">Saipan</option>
                      <option value="Samoa">Samoa</option>
                      <option value="Samoa American">Samoa American</option>
                      <option value="San Marino">San Marino</option>
                      <option value="Sao Tome &amp; Principe">Sao Tome &amp; Principe</option>
                      <option value="Saudi Arabia">Saudi Arabia</option>
                      <option value="Senegal">Senegal</option>
                      <option value="Serbia">Serbia</option>
                      <option value="Seychelles">Seychelles</option>
                      <option value="Sierra Leone">Sierra Leone</option>
                      <option value="Singapore">Singapore</option>
                      <option value="Slovakia">Slovakia</option>
                      <option value="Slovenia">Slovenia</option>
                      <option value="Solomon Islands">Solomon Islands</option>
                      <option value="Somalia">Somalia</option>
                      <option value="South Africa">South Africa</option>
                      <option value="Spain">Spain</option>
                      <option value="Sri Lanka">Sri Lanka</option>
                      <option value="Sudan">Sudan</option>
                      <option value="Suriname">Suriname</option>
                      <option value="Swaziland">Swaziland</option>
                      <option value="Sweden">Sweden</option>
                      <option value="Switzerland">Switzerland</option>
                      <option value="Syria">Syria</option>
                      <option value="Tahiti">Tahiti</option>
                      <option value="Taiwan">Taiwan</option>
                      <option value="Tajikistan">Tajikistan</option>
                      <option value="Tanzania">Tanzania</option>
                      <option value="Thailand">Thailand</option>
                      <option value="Togo">Togo</option>
                      <option value="Tokelau">Tokelau</option>
                      <option value="Tonga">Tonga</option>
                      <option value="Trinidad &amp; Tobago">Trinidad &amp; Tobago</option>
                      <option value="Tunisia">Tunisia</option>
                      <option value="Turkey">Turkey</option>
                      <option value="Turkmenistan">Turkmenistan</option>
                      <option value="Turks &amp; Caicos Is">Turks &amp; Caicos Is</option>
                      <option value="Tuvalu">Tuvalu</option>
                      <option value="Uganda">Uganda</option>
                      <option value="Ukraine">Ukraine</option>
                      <option value="United Arab Erimates">United Arab Emirates</option>
                      <option value="United Kingdom">United Kingdom</option>
                      <option value="United States of America">United States of America</option>
                      <option value="Uraguay">Uruguay</option>
                      <option value="Uzbekistan">Uzbekistan</option>
                      <option value="Vanuatu">Vanuatu</option>
                      <option value="Vatican City State">Vatican City State</option>
                      <option value="Venezuela">Venezuela</option>
                      <option value="Vietnam">Vietnam</option>
                      <option value="Virgin Islands (Brit)">Virgin Islands (Brit)</option>
                      <option value="Virgin Islands (USA)">Virgin Islands (USA)</option>
                      <option value="Wake Island">Wake Island</option>
                      <option value="Wallis &amp; Futana Is">Wallis &amp; Futana Is</option>
                      <option value="Yemen">Yemen</option>
                      <option value="Zaire">Zaire</option>
                      <option value="Zambia">Zambia</option>
                      <option value="Zimbabwe">Zimbabwe</option>
                    </select>
                  </div>
                  <br/>
                  <div>
                    <input class="non-search-text" type="textarea" class="filter-search" id="selBirthYear" placeholder="Birthyear Ex. 1920-1940"></textarea>
                  </div>
                  <br/>
                  <div>
                    <select class="form-control" id="selLivedIn">
                      <option selected value="">Lived In</option>
                      <option value="Afganistan">Afghanistan</option>
                      <option value="Albania">Albania</option>
                      <option value="Algeria">Algeria</option>
                      <option value="American Samoa">American Samoa</option>
                      <option value="Andorra">Andorra</option>
                      <option value="Angola">Angola</option>
                      <option value="Anguilla">Anguilla</option>
                      <option value="Antigua &amp; Barbuda">Antigua &amp; Barbuda</option>
                      <option value="Argentina">Argentina</option>
                      <option value="Armenia">Armenia</option>
                      <option value="Aruba">Aruba</option>
                      <option value="Australia">Australia</option>
                      <option value="Austria">Austria</option>
                      <option value="Azerbaijan">Azerbaijan</option>
                      <option value="Bahamas">Bahamas</option>
                      <option value="Bahrain">Bahrain</option>
                      <option value="Bangladesh">Bangladesh</option>
                      <option value="Barbados">Barbados</option>
                      <option value="Belarus">Belarus</option>
                      <option value="Belgium">Belgium</option>
                      <option value="Belize">Belize</option>
                      <option value="Benin">Benin</option>
                      <option value="Bermuda">Bermuda</option>
                      <option value="Bhutan">Bhutan</option>
                      <option value="Bolivia">Bolivia</option>
                      <option value="Bonaire">Bonaire</option>
                      <option value="Bosnia &amp; Herzegovina">Bosnia &amp; Herzegovina</option>
                      <option value="Botswana">Botswana</option>
                      <option value="Brazil">Brazil</option>
                      <option value="British Indian Ocean Ter">British Indian Ocean Ter</option>
                      <option value="Brunei">Brunei</option>
                      <option value="Bulgaria">Bulgaria</option>
                      <option value="Burkina Faso">Burkina Faso</option>
                      <option value="Burundi">Burundi</option>
                      <option value="Cambodia">Cambodia</option>
                      <option value="Cameroon">Cameroon</option>
                      <option value="Canada">Canada 🇨🇦</option>
                      <option value="Canary Islands">Canary Islands</option>
                      <option value="Cape Verde">Cape Verde</option>
                      <option value="Cayman Islands">Cayman Islands</option>
                      <option value="Central African Republic">Central African Republic</option>
                      <option value="Chad">Chad</option>
                      <option value="Channel Islands">Channel Islands</option>
                      <option value="Chile">Chile</option>
                      <option value="China">China</option>
                      <option value="Christmas Island">Christmas Island</option>
                      <option value="Cocos Island">Cocos Island</option>
                      <option value="Colombia">Colombia</option>
                      <option value="Comoros">Comoros</option>
                      <option value="Congo">Congo</option>
                      <option value="Cook Islands">Cook Islands</option>
                      <option value="Costa Rica">Costa Rica</option>
                      <option value="Cote DIvoire">Cote D'Ivoire</option>
                      <option value="Croatia">Croatia</option>
                      <option value="Cuba">Cuba</option>
                      <option value="Curaco">Curacao</option>
                      <option value="Cyprus">Cyprus</option>
                      <option value="Czech Republic">Czech Republic</option>
                      <option value="Denmark">Denmark</option>
                      <option value="Djibouti">Djibouti</option>
                      <option value="Dominica">Dominica</option>
                      <option value="Dominican Republic">Dominican Republic</option>
                      <option value="East Timor">East Timor</option>
                      <option value="Ecuador">Ecuador</option>
                      <option value="Egypt">Egypt</option>
                      <option value="El Salvador">El Salvador</option>
                      <option value="Equatorial Guinea">Equatorial Guinea</option>
                      <option value="Eritrea">Eritrea</option>
                      <option value="Estonia">Estonia</option>
                      <option value="Ethiopia">Ethiopia</option>
                      <option value="Falkland Islands">Falkland Islands</option>
                      <option value="Faroe Islands">Faroe Islands</option>
                      <option value="Fiji">Fiji</option>
                      <option value="Finland">Finland</option>
                      <option value="France">France</option>
                      <option value="French Guiana">French Guiana</option>
                      <option value="French Polynesia">French Polynesia</option>
                      <option value="French Southern Ter">French Southern Ter</option>
                      <option value="Gabon">Gabon</option>
                      <option value="Gambia">Gambia</option>
                      <option value="Georgia">Georgia</option>
                      <option value="Germany">Germany</option>
                      <option value="Ghana">Ghana</option>
                      <option value="Gibraltar">Gibraltar</option>
                      <option value="Great Britain">Great Britain</option>
                      <option value="Greece">Greece</option>
                      <option value="Greenland">Greenland</option>
                      <option value="Grenada">Grenada</option>
                      <option value="Guadeloupe">Guadeloupe</option>
                      <option value="Guam">Guam</option>
                      <option value="Guatemala">Guatemala</option>
                      <option value="Guinea">Guinea</option>
                      <option value="Guyana">Guyana</option>
                      <option value="Haiti">Haiti</option>
                      <option value="Hawaii">Hawaii</option>
                      <option value="Honduras">Honduras</option>
                      <option value="Hong Kong">Hong Kong</option>
                      <option value="Hungary">Hungary</option>
                      <option value="Iceland">Iceland</option>
                      <option value="India">India</option>
                      <option value="Indonesia">Indonesia</option>
                      <option value="Iran">Iran</option>
                      <option value="Iraq">Iraq</option>
                      <option value="Ireland">Ireland</option>
                      <option value="Isle of Man">Isle of Man</option>
                      <option value="Israel">Israel</option>
                      <option value="Italy">Italy</option>
                      <option value="Jamaica">Jamaica</option>
                      <option value="Japan">Japan</option>
                      <option value="Jordan">Jordan</option>
                      <option value="Kazakhstan">Kazakhstan</option>
                      <option value="Kenya">Kenya</option>
                      <option value="Kiribati">Kiribati</option>
                      <option value="Korea North">Korea North</option>
                      <option value="Korea Sout">Korea South</option>
                      <option value="Kuwait">Kuwait</option>
                      <option value="Kyrgyzstan">Kyrgyzstan</option>
                      <option value="Laos">Laos</option>
                      <option value="Latvia">Latvia</option>
                      <option value="Lebanon">Lebanon</option>
                      <option value="Lesotho">Lesotho</option>
                      <option value="Liberia">Liberia</option>
                      <option value="Libya">Libya</option>
                      <option value="Liechtenstein">Liechtenstein</option>
                      <option value="Lithuania">Lithuania</option>
                      <option value="Luxembourg">Luxembourg</option>
                      <option value="Macau">Macau</option>
                      <option value="Macedonia">Macedonia</option>
                      <option value="Madagascar">Madagascar</option>
                      <option value="Malaysia">Malaysia</option>
                      <option value="Malawi">Malawi</option>
                      <option value="Maldives">Maldives</option>
                      <option value="Mali">Mali</option>
                      <option value="Malta">Malta</option>
                      <option value="Marshall Islands">Marshall Islands</option>
                      <option value="Martinique">Martinique</option>
                      <option value="Mauritania">Mauritania</option>
                      <option value="Mauritius">Mauritius</option>
                      <option value="Mayotte">Mayotte</option>
                      <option value="Mexico">Mexico</option>
                      <option value="Midway Islands">Midway Islands</option>
                      <option value="Moldova">Moldova</option>
                      <option value="Monaco">Monaco</option>
                      <option value="Mongolia">Mongolia</option>
                      <option value="Montserrat">Montserrat</option>
                      <option value="Morocco">Morocco</option>
                      <option value="Mozambique">Mozambique</option>
                      <option value="Myanmar">Myanmar</option>
                      <option value="Nambia">Nambia</option>
                      <option value="Nauru">Nauru</option>
                      <option value="Nepal">Nepal</option>
                      <option value="Netherland Antilles">Netherland Antilles</option>
                      <option value="Netherlands">Netherlands (Holland, Europe)</option>
                      <option value="Nevis">Nevis</option>
                      <option value="New Caledonia">New Caledonia</option>
                      <option value="New Zealand">New Zealand</option>
                      <option value="Nicaragua">Nicaragua</option>
                      <option value="Niger">Niger</option>
                      <option value="Nigeria">Nigeria</option>
                      <option value="Niue">Niue</option>
                      <option value="Norfolk Island">Norfolk Island</option>
                      <option value="Norway">Norway</option>
                      <option value="Oman">Oman</option>
                      <option value="Pakistan">Pakistan</option>
                      <option value="Palau Island">Palau Island</option>
                      <option value="Palestine">Palestine</option>
                      <option value="Panama">Panama</option>
                      <option value="Papua New Guinea">Papua New Guinea</option>
                      <option value="Paraguay">Paraguay</option>
                      <option value="Peru">Peru</option>
                      <option value="Phillipines">Philippines</option>
                      <option value="Pitcairn Island">Pitcairn Island</option>
                      <option value="Poland">Poland</option>
                      <option value="Portugal">Portugal</option>
                      <option value="Puerto Rico">Puerto Rico</option>
                      <option value="Qatar">Qatar</option>
                      <option value="Republic of Montenegro">Republic of Montenegro</option>
                      <option value="Republic of Serbia">Republic of Serbia</option>
                      <option value="Reunion">Reunion</option>
                      <option value="Romania">Romania</option>
                      <option value="Russia">Russia</option>
                      <option value="Rwanda">Rwanda</option>
                      <option value="St Barthelemy">St Barthelemy</option>
                      <option value="St Eustatius">St Eustatius</option>
                      <option value="St Helena">St Helena</option>
                      <option value="St Kitts-Nevis">St Kitts-Nevis</option>
                      <option value="St Lucia">St Lucia</option>
                      <option value="St Maarten">St Maarten</option>
                      <option value="St Pierre &amp; Miquelon">St Pierre &amp; Miquelon</option>
                      <option value="St Vincent &amp; Grenadines">St Vincent &amp; Grenadines</option>
                      <option value="Saipan">Saipan</option>
                      <option value="Samoa">Samoa</option>
                      <option value="Samoa American">Samoa American</option>
                      <option value="San Marino">San Marino</option>
                      <option value="Sao Tome &amp; Principe">Sao Tome &amp; Principe</option>
                      <option value="Saudi Arabia">Saudi Arabia</option>
                      <option value="Senegal">Senegal</option>
                      <option value="Serbia">Serbia</option>
                      <option value="Seychelles">Seychelles</option>
                      <option value="Sierra Leone">Sierra Leone</option>
                      <option value="Singapore">Singapore</option>
                      <option value="Slovakia">Slovakia</option>
                      <option value="Slovenia">Slovenia</option>
                      <option value="Solomon Islands">Solomon Islands</option>
                      <option value="Somalia">Somalia</option>
                      <option value="South Africa">South Africa</option>
                      <option value="Spain">Spain</option>
                      <option value="Sri Lanka">Sri Lanka</option>
                      <option value="Sudan">Sudan</option>
                      <option value="Suriname">Suriname</option>
                      <option value="Swaziland">Swaziland</option>
                      <option value="Sweden">Sweden</option>
                      <option value="Switzerland">Switzerland</option>
                      <option value="Syria">Syria</option>
                      <option value="Tahiti">Tahiti</option>
                      <option value="Taiwan">Taiwan</option>
                      <option value="Tajikistan">Tajikistan</option>
                      <option value="Tanzania">Tanzania</option>
                      <option value="Thailand">Thailand</option>
                      <option value="Togo">Togo</option>
                      <option value="Tokelau">Tokelau</option>
                      <option value="Tonga">Tonga</option>
                      <option value="Trinidad &amp; Tobago">Trinidad &amp; Tobago</option>
                      <option value="Tunisia">Tunisia</option>
                      <option value="Turkey">Turkey</option>
                      <option value="Turkmenistan">Turkmenistan</option>
                      <option value="Turks &amp; Caicos Is">Turks &amp; Caicos Is</option>
                      <option value="Tuvalu">Tuvalu</option>
                      <option value="Uganda">Uganda</option>
                      <option value="Ukraine">Ukraine</option>
                      <option value="United Arab Erimates">United Arab Emirates</option>
                      <option value="United Kingdom">United Kingdom</option>
                      <option value="United States of America">United States of America</option>
                      <option value="Uraguay">Uruguay</option>
                      <option value="Uzbekistan">Uzbekistan</option>
                      <option value="Vanuatu">Vanuatu</option>
                      <option value="Vatican City State">Vatican City State</option>
                      <option value="Venezuela">Venezuela</option>
                      <option value="Vietnam">Vietnam</option>
                      <option value="Virgin Islands (Brit)">Virgin Islands (Brit)</option>
                      <option value="Virgin Islands (USA)">Virgin Islands (USA)</option>
                      <option value="Wake Island">Wake Island</option>
                      <option value="Wallis &amp; Futana Is">Wallis &amp; Futana Is</option>
                      <option value="Yemen">Yemen</option>
                      <option value="Zaire">Zaire</option>
                      <option value="Zambia">Zambia</option>
                      <option value="Zimbabwe">Zimbabwe</option>
                    </select>
                  </div>
                  <br/>
                  <div>
                    <input class="non-search-text" type="textarea" class="filter-search" id="selAssociationA" placeholder="Thing you want your Results to be associated with."></textarea>
                  </div>
                </div>
              </div>
              <br/>
              <h6>Select a visualization</h6>
              <div class="vis-select1">
                <input id="fd1" type="radio" checked="checked" name="optradio1" value="fd" />
                <label class="vis-s1 fd" for="fd1"></label>
                <input id="sb1" type="radio" name="optradio1" value="sb" />
                <label class="vis-s1 sb"for="sb1"></label>
                <!--<input id="cp1" type="radio" name="optradio1" value="cp" />
                <label class="vis-s1 cp" for="cp1"></label>
                <input id="wm1" type="radio" name="optradio1" value="wm" />
                <label class="vis-s1 wm"for="wm1"></label>
                <input id="bp1" type="radio" name="optradio1" value="bp" />
                <label class="vis-s1 bp" for="bp1"></label>-->
                <input id="sk1" type="radio" name="optradio1" value="sk" />
                <label class="vis-s1 sk"for="sk1"></label>
              </div>
              <br/>

              <input data-toggle="tab" href="#sectionVis" type="submit" id="filterer" value="Apply to Previous Search" class="btn btn-primary btn-filters btn-xl"/>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--Space between buttons-->
              <!--For the newSearch button in filters-->
              <input data-toggle="tab" href="#sectionVis" type="submit" id="newSearch" value="New Search" class="btn btn-primary btn-xl"/>

            </div>

            <br/><br/><br/>

          </div>
        </div>

        <div class="col-md-3 col-md-offset-1">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h5 class="panel-title" >
                Previous Searches
              </h5>
            </div>
            <div class="panel-body">
              <span class="memory-box" id="memory-box"></span>
            </div>
          </div>
        </div>
        <br/><br/><br/><br/>
      </div>

      <div class="tab-pane fade" id="sectionRes">
        <br/><br/><br/><br/>
        <span id="results"></span>
      </div>

      <!-- Other ones I want
      http://bl.ocks.org/dwtkns/4973620 -artifacts only
      http://blog.cartodb.com/cartodb-makes-d3-maps-a-breeze/ for artifacts
    -->
    <div class="tab-pane fade" id="sectionVis">
      <br/>
      <div class="col-sm-offset-1">
        <span class="hover-box hidden">
          <p id="item-name"></p>
          <button class="btn btn-primary">Search this on the REM</button>
          <button class="btn btn-primary">New search with this term</button>
        </span>
      </div>
      <!--<div id="save-screen" class="btn btn-primary btn-top-right">Save as Image</div>-->
      <!--<span id="visualizations"></span>-->
      <!--   <canvas id="visualizations" height="1000" width="1000"></canvas> -->
      <!--<input type="button" id"btnSave" onclick="ssSave()" value="Save Me">-->
      <div id="visualizations"></div>
      <br/>
      <span id="g2"></span>
      <span id="g3"></span>
      <br/>
    </div>

  </div>

</section>
</body>
<footer>
  <a href="http://www.sshrc-crsh.gc.ca/" id="sshrc"><img src="img/sshrc/SSHRC_Colour-en.svg" style="display: inline; width: 98%;"></img></a>
</footer>
</html>
